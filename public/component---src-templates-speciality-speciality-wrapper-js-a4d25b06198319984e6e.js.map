{"version":3,"sources":["webpack:///./src/templates/speciality/speciality.js","webpack:///./src/templates/speciality/specialityWrapper.js"],"names":["offset","Speciality","string","speciality","data","intl","useIntl","pageCount","Math","ceil","allDoctorListsCsv","nodes","length","useState","slice","doctorsList","setDoctorsList","Container","fluid","className","formatMessage","id","charAt","toUpperCase","previousLabel","nextLabel","breakLabel","breakClassName","marginPagesDisplayed","pageRangeDisplayed","onPageChange","selected","containerClassName","subContainerClassName","activeClassName","React","memo","capitalizeFirstLetter","SpecialityWrapper","pageContext","reverse","toLowerCase","menuWithSynonyms","filter","item","join","top3","reduce","accumulator","currentValue","Name","locale","schema","map","doc","i","replace","fields","slug","Designation","Institute","contact1","title","description"],"mappings":"8OASIA,EAAS,EAMb,IAAMC,EAAa,SAAC,GAA0B,IAJfC,EAITC,EAAuB,EAAvBA,WAAYC,EAAW,EAAXA,KAE1BC,EAAOC,oBACPC,EAAYC,KAAKC,KAAKL,EAAKM,kBAAkBC,MAAMC,OAV3C,GAYd,EAAsCC,mBACpCT,EAAKM,kBAAkBC,MAAMG,MAAMd,EAAQA,EAb/B,IAYPe,EAAP,KAAoBC,EAApB,KAUA,OACE,kBAACC,EAAA,EAAD,CAAWC,OAAK,EAACC,UAAU,OACzB,yBAAKA,UAAU,QACb,yBAAKA,UAAU,eACb,wBAAIA,UAAU,eACRd,EAAKe,cAAc,CACrBC,GAAG,iBAFP,IAGQhB,EAAKe,cAAc,CACvBC,GAAG,IA3BcnB,EA2BYC,EA1BlCD,EAAOoB,OAAO,GAAGC,cAAgBrB,EAAOY,MAAM,MAsB7C,KAKST,EAAKe,cAAc,CAAEC,GAAI,gBAElC,yBAAKF,UAAU,YACf,yBAAKA,UAAU,YACb,kBAAC,IAAD,CAASf,KAAMW,MAGnB,yBAAKI,UAAU,iCACb,kBAAC,IAAD,CACEK,cAAe,KACfC,UAAW,KACXC,WAAY,MACZC,eAAgB,WAChBpB,UAAWA,EACXqB,qBAAsB,EACtBC,mBAAoB,EACpBC,aA/BY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACvB/B,EAjBY,EAiBH+B,EAETf,EAAeZ,EAAKM,kBAAkBC,MAAMG,MAAMd,EAAQA,EAnB9C,KAgDJgC,mBAAoB,aACpBC,sBAAuB,mBACvBC,gBAAiB,eAQdC,MAAMC,KAAKnC,GCzD1B,SAASoC,EAAsBnC,GAC7B,OAAOA,EAAOoB,OAAO,GAAGC,cAAgBrB,EAAOY,MAAM,GAGhD,IAuBDwB,EAAoB,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,YAAanC,EAAW,EAAXA,KACxCA,EAAKM,kBAAkBC,MAAQ,IAASP,EAAKM,kBAAkBC,MAAO,CACpE,WACC6B,UACH,IAAMnC,EAAOC,oBACTH,EAAaoC,EAAYtC,WAAWwC,cACxCtC,EAAauC,mBACVC,QAAO,SAAAC,GAAI,OAAIA,EAAK,GAAGH,gBAAkBtC,KAAY,GACrD0C,KAAK,SAER,IAAIC,EAAO1C,EAAKM,kBAAkBC,MAC/BG,MAAM,EAAG,GACTiC,QACC,SAACC,EAAaC,GAAd,OAA+BD,GAAiBC,EAAaC,KAAnB,QAC1C,IAGJJ,EACkB,OAAhBzC,EAAK8C,OAAL,gBACoBL,EADpB,kCAEI,oEAEN,IAiBMM,EAAM,+FAjBOhD,EAAKM,kBAAkBC,MAAMG,MAAM,EAAG,GAAGuC,KAC1D,SAACC,EAAKC,GAAN,sDAEcA,EAAI,GAFlB,0DAKWD,EAAIJ,KAAKM,QAAQ,KAAM,KALlC,iDAMkDF,EAAIG,OAAOC,KAN7D,wBAOeJ,EAAIK,YAAYH,QAAQ,KAAM,KAP7C,yEAUaF,EAAIM,UAAUJ,QAAQ,KAAM,KAVzC,gCAYgBF,EAAIO,SAASL,QAAQ,KAAM,KAZ3C,oBAgBU,SAKZ,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEJ,OAAQA,EACRU,MAAOzD,EAAKe,cAAc,CACxBC,GAAIgB,EAAsBlC,KAE5B4D,YAAa,CACX1D,EAAKe,cAAc,CACjBC,GAAG,iBAELhB,EAAKe,cAAc,CACjBC,GAAIgB,EAAsBlC,KAE5BE,EAAKe,cAAc,CACjBC,GAAI,eAENyB,GACAD,KAAK,OAET,kBAAC,EAAD,CAAY1C,WAAYA,EAAYC,KAAMA,MAKjC+B,cAAMC,KAAKE","file":"component---src-templates-speciality-speciality-wrapper-js-a4d25b06198319984e6e.js","sourcesContent":["import React, { useState } from \"react\"\nimport ReactPaginate from \"react-paginate\"\nimport { Container } from \"react-bootstrap\"\nimport { useIntl } from \"gatsby-plugin-intl\"\n//importing component\nimport Doctors from \"../../components/doctors/doctors\"\n\n// declaring some global variable\nconst perPage = 6\nlet offset = 0\n\nfunction capitalizeFirstLetter(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nconst Speciality = ({ speciality, data }) => {\n  // Making useIntl available in the code\n  const intl = useIntl()\n  const pageCount = Math.ceil(data.allDoctorListsCsv.nodes.length / perPage)\n  //const [currentPage, setCurrentPage] = useState(0)\n  const [doctorsList, setDoctorsList] = useState(\n    data.allDoctorListsCsv.nodes.slice(offset, offset + perPage)\n  )\n\n  const onHandleClick = ({ selected }) => {\n    offset = selected * perPage\n    //setCurrentPage(selected)\n    setDoctorsList(data.allDoctorListsCsv.nodes.slice(offset, offset + perPage))\n  }\n\n  return (\n    <Container fluid className=\"p-0\">\n      <div className=\"main\">\n        <div className=\"med-section\">\n          <h3 className=\"text-center\">\n            {`${intl.formatMessage({\n              id: `adl.${process.env.GATSBY_DISTRICT}`,\n            })} ${intl.formatMessage({\n              id: `${capitalizeFirstLetter(speciality)}`,\n            })}  ${intl.formatMessage({ id: \"Speciality\" })}`}\n          </h3>\n          <div className=\"divider\"></div>\n          <div className=\"med-card\">\n            <Doctors data={doctorsList} />\n          </div>\n        </div>\n        <div className=\"d-flex justify-content-center\">\n          <ReactPaginate\n            previousLabel={\"<<\"}\n            nextLabel={\">>\"}\n            breakLabel={\"...\"}\n            breakClassName={\"break-me\"}\n            pageCount={pageCount}\n            marginPagesDisplayed={2}\n            pageRangeDisplayed={5}\n            onPageChange={onHandleClick}\n            containerClassName={\"pagination\"}\n            subContainerClassName={\"pages pagination\"}\n            activeClassName={\"active\"}\n          />\n        </div>\n      </div>\n    </Container>\n  )\n}\n\nexport default React.memo(Speciality)\n","import { graphql } from \"gatsby\"\nimport { useIntl } from \"gatsby-plugin-intl\"\nimport * as _ from \"lodash\"\nimport React from \"react\"\nimport Layout from \"../../components/layout\"\nimport SEO from \"../../components/seo\"\nimport { menuWithSynonyms } from \"../../utils/meta.data\"\nimport Speciality from \"./speciality\"\n\nfunction capitalizeFirstLetter(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nexport const query = graphql`\n  query($Speciality: String!) {\n    allDoctorListsCsv(filter: { Speciality: { eq: $Speciality } }) {\n      nodes {\n        Degree\n        Name\n        Rating\n        Designation\n        Institute\n        contact1\n        loc1\n        visitTime1\n        id\n        uid\n\n        fields {\n          slug\n        }\n      }\n    }\n  }\n`\n\nconst SpecialityWrapper = ({ pageContext, data }) => {\n  data.allDoctorListsCsv.nodes = _.sortBy(data.allDoctorListsCsv.nodes, [\n    \"Rating\",\n  ]).reverse()\n  const intl = useIntl()\n  let speciality = pageContext.Speciality.toLowerCase()\n  speciality = menuWithSynonyms\n    .filter(item => item[0].toLowerCase() === speciality)[0]\n    .join(\" and \")\n\n  let top3 = data.allDoctorListsCsv.nodes\n    .slice(0, 3)\n    .reduce(\n      (accumulator, currentValue) => accumulator + `${currentValue.Name}; `,\n      \"\"\n    )\n  //, Contact: ${currentValue.contact1.replace(/\\*/g,\",\")}\n  top3 =\n    intl.locale === \"en\"\n      ? `Top Doctors: ${top3} at rajshahi city in bangladesh`\n      : \"- তাদের চেম্বারের লোকেশন, সময় ও সিরিয়লের নাম্বারসহ প্রয়োজনীয় তথ্য\"\n\n  const top3Schema = data.allDoctorListsCsv.nodes.slice(0, 3).map(\n    (doc, i) => `\n   {\"@type\": \"ListItem\",\n   \"position\": \"${i + 1}\",\n   \"item\": {\n    \"@type\": \"Person\",\n    \"name\": \"${doc.Name.replace(/\\*/, \",\")}\",\n    \"url\": \"${\"https://rajdoctors.com\" + `/doctor/` + doc.fields.slug}\",\n    \"jobTitle\": \"${doc.Designation.replace(/\\*/, \",\")}\",\n    \"worksFor\": {\n      \"@type\": \"Organization\",\n      \"name\": \"${doc.Institute.replace(/\\*/, \",\")}\"\n    },\n    \"telephone\": \"${doc.contact1.replace(/\\*/, \",\")}\" \n   }}\n   `\n  )\n  const schema = `{\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"ItemList\",\n    \"itemListElement\": [${top3Schema}]\n  }`\n  return (\n    <Layout>\n      <SEO\n        schema={schema}\n        title={intl.formatMessage({\n          id: capitalizeFirstLetter(speciality),\n        })}\n        description={[\n          intl.formatMessage({\n            id: `adl.${process.env.GATSBY_DISTRICT}`,\n          }),\n          intl.formatMessage({\n            id: capitalizeFirstLetter(speciality),\n          }),\n          intl.formatMessage({\n            id: \"Speciality\",\n          }),\n          top3,\n        ].join(\" \")}\n      />\n      <Speciality speciality={speciality} data={data} />\n    </Layout>\n  )\n}\n\nexport default React.memo(SpecialityWrapper)\n"],"sourceRoot":""}